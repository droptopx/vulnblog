<!doctype html><html lang=en-us><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Can Acar's personal website"><link rel=icon href=/images/favicon.ico sizes=any><link rel=icon href=/images/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=stylesheet href=/css/main.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap&text=╰┗└" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@500&family=PT+Mono&family=Noto+Sans:wght@400&family=Inter&family=Ubuntu+Mono&family=Inconsolata&display=swap" rel=stylesheet><title>Can Acar</title>
<script src=/js/main.js type=module defer></script><body><nav class=navbar-container><div id=desktop-navbar><div class=navbar><div class=navbar-logo><img src=/images/can_logo.svg alt width=48px height=48px></div><div id=navbar-menu><a href=/>Home</a> /// <a href=/blog>Blog</a> /// <a href=https://github.com/droptopx>Github</a></div><div id=navbar-flex-align></div></div></div><div id=mobile-navbar><div class=navbar><div id=mobile-navbar-flex-align>&ensp;</div><div id=mobile-navbar-logo class=navbar-logo><img src=/images/can_logo.svg alt width=48px height=48px></div><div id=mobile-hamburger-menu-button>v</div></div></div><div id=mobile-hamburger-menu><div id=mobile-hamburger-menu-list><div class=mobile-hamburger-item><a href=/>Home</a></div><div class=mobile-hamburger-item><a href=/blog>Blog</a></div><div class=mobile-hamburger-item><a href=https://github.com/droptopx>Github</a></div></div></div></nav><main role=main><div id=writeup-container><div id=writeup-header-container><div id=writeup-header-date>04 Dec 2022</div><div id=writeup-header-title>./init_blog.sh</div><div id=writeup-header-end></div></div><div id=writeup-body-2><p>I&rsquo;ll post some actual content here in the near future, but in the meantime I&rsquo;m posting this to show some things I learned while making this website and showcase the CSS that turns Markdown into HTML in this section of the website.</p><p>It was pretty hard to get this site working. First I had to build a sufficiently good-looking website from the ground up and write responsive CSS. After like two pages of HTML it was already too complex due to ⚠️ <strong><em>code reuse</em></strong> ⚠️.</p><p>So after a bit of searching for static site generators I picked Hugo due to its powerful templating abilities. I&rsquo;m probably missing something as I am not familiar with Go which Hugo is written in but documentation for templating was hard to find, which made it difficult to code some details. So learning Hugo took time, and then learning about the unwanted defaults of different devices and workarounds for them took maybe even longer.</p><p>Getting code blocks with a horizontal scroll bar like</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>t                                                                                                                            t
</span></span><span style=display:flex><span>h                                                                                                                            h
</span></span><span style=display:flex><span>e                                                                                                                            e
</span></span><span style=display:flex><span>s                                                                                                                            s
</span></span><span style=display:flex><span>e                                                                                                                            e
</span></span></code></pre></div><p>to work seems easy with <code>overflow-x: auto</code>, but iOS makes this simple job difficult by requiring an obscure CSS reset to have consistent font sizes across every <code>&lt;span></code> in the code block.</p><p>Here is the fix for anyone that might come across this blog post in the future:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>html</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>/* https://kilianvalkhof.com/2022/css-html/your-css-reset-needs-text-size-adjust-probably/ */</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>-webkit-</span>text-size-adjust: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>  text-size-adjust: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Took hours to figure that one out.</p><p>Also, iOS likes to make fullscreen hamburger menus a hard thing by limiting you to two similarly bad actions at the time of button click.</p><ol><li>Make the background (which is fully covered by the menu) scrollable which you don&rsquo;t really want as it is bad UX to let a user affect something they don&rsquo;t see and they might lose track of where they last were on the page while in the menu.</li><li>Put user at the top of the page. This is also not optimal because if the user were already many paragraphs into a post and used the menu, they&rsquo;d now have to scroll all the way down, getting distracted in the process.</li></ol><p>As always, there is a workaround:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>html</span>.<span style=color:#a6e22e>no-scroll</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>/* position:fixed is needed due to a bug in mobile safari. height:100vh; overflow:hidden; also kind of works but it&#39;s buggy, this works better.*/</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>position</span>: <span style=color:#66d9ef>fixed</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>recordedTopScroll</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hamMenu</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;mobile-hamburger-menu&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hamButton</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;mobile-hamburger-menu-button&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mobileNavBar</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;mobile-navbar&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>hamButton</span>.<span style=color:#a6e22e>onclick</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>hamButton</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>contains</span>(<span style=color:#e6db74>&#34;active&#34;</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>recordedTopScroll</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>documentElement</span>.<span style=color:#a6e22e>scrollTop</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hamButton</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>toggle</span>(<span style=color:#e6db74>&#34;active&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hamMenu</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>toggle</span>(<span style=color:#e6db74>&#34;active&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hamButton</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>contains</span>(<span style=color:#e6db74>&#34;active&#34;</span>)) {
</span></span><span style=display:flex><span>      document.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#34;no-scroll&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }, <span style=color:#ae81ff>600</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>hamButton</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>contains</span>(<span style=color:#e6db74>&#34;active&#34;</span>)) {
</span></span><span style=display:flex><span>    document.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#34;no-scroll&#34;</span>);
</span></span><span style=display:flex><span>    document.<span style=color:#a6e22e>documentElement</span>.<span style=color:#a6e22e>scrollTop</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>recordedTopScroll</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>The CSS is to stop scroll on the <code>&lt;html></code> element and the JS sets the class on the page after 600ms which is the time it takes to animate the menu sliding down in my website. The menu hides the visual changes setting <code>position: fixed;</code> brings. It also records the amount of scroll from the top. The <code>no-scroll</code> class puts the page at the top as a side effect which is how (2) happens. When the user exits the menu, the <code>no-scroll</code> class is removed and the scroll value is quickly recovered back to its original value. By the time the menu starts sliding up, the scroll has long been set to its original value, and the user doesn&rsquo;t see any of the magic happening behind the scenes.</p><p>Sadly, this approach also has a small downside: In both the old and new Safari layouts, setting the body to <code>position: fixed;</code> uncollapses the address bar. This is not a big deal but it would be better if the browser layout didn&rsquo;t change.</p><p>Anyways, now that technical problems like these have been sorted out let&rsquo;s move onto some fun stuff.</p><p>As you have seen above, Hugo has code highlighting capabilities for many different languages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bf data-lang=bf><span style=display:flex><span>&gt;+++++++++<span style=color:#66d9ef>[</span>&lt;++++++++&gt;-<span style=color:#66d9ef>]</span>&lt;<span style=color:#f92672>.</span>&gt;+++++++<span style=color:#66d9ef>[</span>&lt;++++&gt;-<span style=color:#66d9ef>]</span>&lt;+<span style=color:#f92672>.</span>+++++++<span style=color:#f92672>..</span>+++<span style=color:#f92672>.</span>&gt;&gt;&gt;++++++++<span style=color:#66d9ef>[</span>&lt;++++&gt;-<span style=color:#66d9ef>]</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>&lt;<span style=color:#f92672>.</span>&gt;&gt;&gt;++++++++++<span style=color:#66d9ef>[</span>&lt;+++++++++&gt;-<span style=color:#66d9ef>]</span>&lt;---<span style=color:#f92672>.</span>&lt;&lt;&lt;&lt;<span style=color:#f92672>.</span>+++<span style=color:#f92672>.</span>------<span style=color:#f92672>.</span>--------<span style=color:#f92672>.</span>&gt;&gt;+<span style=color:#f92672>.</span>&gt;++++++++++<span style=color:#f92672>.</span><span style=color:#75715e>
</span></span></span></code></pre></div><p><br>I also wrote a small bit of styling for <code>&lt;figure></code> + Hugo&rsquo;s shortcodes allow for inserting <code>&lt;figure></code>s into markdown so posts can have things like:<figure class=writeup-image><img src=/images/can_logo.svg alt="Website Logo"><figcaption><p>Website Logo</p></figcaption></figure></p><p>Other than that a lot of styling is provided by Hugo out-of-the-box:<br><em>Italic</em><br><strong>Bold</strong><br><strong><em>Both</em></strong></p><p>All of these should be strong enough of a foundation for technical writeups and general posting, but Hugo makes it pretty easy to add new styling if needed&mdash;just have to watch out for browsers doing unexpected things.</p></div></div></main></body></html>